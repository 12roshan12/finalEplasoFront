<h1 mat-dialog-title>
    <div class="flex flex-row justify-between">
        <div>Create Blog</div>
        <div mat-dialog-close class="cursor-pointer">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M11.7094 1.37603C11.7806 1.30485 11.8372 1.22034 11.8758 1.12731C11.9144 1.03428 11.9343 0.934557 11.9343 0.833836C11.9344 0.733115 11.9146 0.633369 11.8761 0.540291C11.8377 0.447214 11.7812 0.362628 11.71 0.291364C11.6389 0.2201 11.5543 0.163554 11.4613 0.124952C11.3683 0.086351 11.2686 0.0664513 11.1678 0.0663894C11.0671 0.0663275 10.9674 0.0861046 10.8743 0.124592C10.7812 0.163078 10.6966 0.219521 10.6254 0.290698L6.00003 4.91603L1.37603 0.290698C1.23211 0.146774 1.0369 0.065918 0.833364 0.065918C0.629825 0.065918 0.434622 0.146774 0.290698 0.290698C0.146774 0.434622 0.065918 0.629825 0.065918 0.833364C0.065918 1.0369 0.146774 1.23211 0.290698 1.37603L4.91603 6.00003L0.290698 10.624C0.219434 10.6953 0.162904 10.7799 0.124336 10.873C0.0857684 10.9661 0.065918 11.0659 0.065918 11.1667C0.065918 11.2675 0.0857684 11.3673 0.124336 11.4604C0.162904 11.5535 0.219434 11.6381 0.290698 11.7094C0.434622 11.8533 0.629825 11.9341 0.833364 11.9341C0.934147 11.9341 1.03394 11.9143 1.12705 11.8757C1.22016 11.8372 1.30477 11.7806 1.37603 11.7094L6.00003 7.08403L10.6254 11.7094C10.7693 11.8531 10.9644 11.9338 11.1678 11.9337C11.3713 11.9335 11.5663 11.8526 11.71 11.7087C11.8538 11.5648 11.9345 11.3696 11.9343 11.1662C11.9342 10.9628 11.8533 10.7678 11.7094 10.624L7.08403 6.00003L11.7094 1.37603Z"
                    fill="#D84743" />
            </svg>

        </div>
    </div>
</h1>
<div mat-dialog-content class="">
    <div class=" w-full">
        <div [formGroup]="blogForm" class=" w-full">
            <div class="flex flex-col gap-x-4">

                <mat-form-field appearance="fill">
                    <mat-label>Blog Name</mat-label>
                    <input matInput formControlName="name" />
                </mat-form-field>

                <label>Blog Category</label>
                <div class="popupInput flex flex-col !rounded-b-none border border-b-black mb-3 !pb-none !px-none ">
                    <ng-select class="w-full" formControlName="category" [appendTo]="'body'"
                        (change)="fetchTrip($event)">
                        <ng-option *ngFor="let data of categoryList" [value]="data.name">{{data.name}}</ng-option>
                    </ng-select>
                </div>

                <label>Trip name</label>
                <div class="popupInput flex flex-col !rounded-b-none border border-b-black mb-3 !pb-none !px-none ">
                    <ng-select class="w-full" formControlName="trip" [appendTo]="'body'">
                        <ng-option *ngFor="let data of filteredTrip" [value]="data.name">{{data.name}}</ng-option>
                    </ng-select>
                </div>

                <label>Blog Image*</label>
                <div class="w-full h-[400px] border-dashed border-2 border-[#B8B8B8] bg-[#F8F8F8] relative mb-2">
                    <div *ngIf="profilePicModel != ''" class="relative w-full h-full">
                        <img [src]="profilePicModel" class="w-full h-full object-cover" />
                        <div class="absolute top-0 right-0 cursor-pointer p-2">
                            <div (click)="clear()" class="bg-white rounded-full p-2">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.7094 1.37603C11.7806 1.30485 11.8372 1.22034 11.8758 1.12731C11.9144 1.03428 11.9343 0.934557 11.9343 0.833836C11.9344 0.733115 11.9146 0.633369 11.8761 0.540291C11.8377 0.447214 11.7812 0.362628 11.71 0.291364C11.6389 0.2201 11.5543 0.163554 11.4613 0.124952C11.3683 0.086351 11.2686 0.0664513 11.1678 0.0663894C11.0671 0.0663275 10.9674 0.0861046 10.8743 0.124592C10.7812 0.163078 10.6966 0.219521 10.6254 0.290698L6.00003 4.91603L1.37603 0.290698C1.23211 0.146774 1.0369 0.065918 0.833364 0.065918C0.629825 0.065918 0.434622 0.146774 0.290698 0.290698C0.146774 0.434622 0.065918 0.629825 0.065918 0.833364C0.065918 1.0369 0.146774 1.23211 0.290698 1.37603L4.91603 6.00003L0.290698 10.624C0.219434 10.6953 0.162904 10.7799 0.124336 10.873C0.0857684 10.9661 0.065918 11.0659 0.065918 11.1667C0.065918 11.2675 0.0857684 11.3673 0.124336 11.4604C0.162904 11.5535 0.219434 11.6381 0.290698 11.7094C0.434622 11.8533 0.629825 11.9341 0.833364 11.9341C0.934147 11.9341 1.03394 11.9143 1.12705 11.8757C1.22016 11.8372 1.30477 11.7806 1.37603 11.7094L6.00003 7.08403L10.6254 11.7094C10.7693 11.8531 10.9644 11.9338 11.1678 11.9337C11.3713 11.9335 11.5663 11.8526 11.71 11.7087C11.8538 11.5648 11.9345 11.3696 11.9343 11.1662C11.9342 10.9628 11.8533 10.7678 11.7094 10.624L7.08403 6.00003L11.7094 1.37603Z"
                                        fill="#D84743" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="profilePicModel == ''">
                        <div class="absolute top-[25%] w-full flex flex-col justify-center items-center pt-2 cursor-pointer"
                            (click)="profileUpload.click()">
                            <img src="assets/images/categories.png" class="w-40 h-40 object-cover" />
                            <div class="flex items-center justify-center">
                                <p>Upload Blog Image</p>
                            </div>
                        </div>
                    </div>

                </div>

                <h1>Blog Description*</h1>
                <quill-editor class="min-h-[60vh] w-full" formControlName="description"></quill-editor>

            </div>

        </div>
    </div>
</div>
<div mat-dialog-actions class="w-full flex !justify-end">
    <div class="flex !justify-end gap-x-2">
        <button class="discardButton" mat-dialog-close>
            Discard
        </button>
        <button class="submitButton" (click)="submit()" [disabled]="buttonDisabled">
            <span *ngIf="updateBoolean">Update</span>
            <span *ngIf="!updateBoolean">Post Blog</span>
        </button>
    </div>
</div>

<div class="invisible">
    <input type="file" (change)="changeProfilePicture($event)" [(ngModel)]="imageTemp" #profileUpload />
</div>